<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ø¨Ø±Ø¢Ù„ÛŒÙ† | ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ú©Ø§ÙÙ‡ Ùˆ Ø±Ø³ØªÙˆØ±Ø§Ù†</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css" rel="stylesheet" />

  <!-- Ø¢ÛŒÚ©ÙˆÙ†â€ŒÙ‡Ø§ -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />

  <!-- ÙÙˆÙ†Øª ÙØ§Ø±Ø³ÛŒ Vazir -->
  <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font/dist/font-face.css" rel="stylesheet" />

  <!-- manifest Ùˆ Ø¢ÛŒÚ©ÙˆÙ† Ù…ÙˆØ¨Ø§ÛŒÙ„ -->
  <link rel="manifest" href="{{ url_for('static', filename='manifest_mobile.json') }}" />
  <link rel="icon" href="{{ url_for('static', filename='icons/icon-192-v2.png') }}" sizes="192x192" type="image/png" />
  <link rel="apple-touch-icon" href="{{ url_for('static', filename='icons/icon-192-v2.png') }}" />
  <meta name="theme-color" content="#ffffff" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-title" content="Beralin" />

  <style>
    body {
      font-family: Vazir, sans-serif;
      background-color: #f8f9fa;
      margin-bottom: 70px; /* ÙØ¶Ø§ÛŒ Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ Ù†ÙˆØ§Ø± Ù¾Ø§ÛŒÛŒÙ† */
    }

    header {
      background-color: #343a40;
      color: #fff;
      padding: 1rem;
      text-align: center;
      font-size: 1.3rem;
      font-weight: bold;
    }

    /* Ù†ÙˆØ§Ø± Ø¨Ø§Ù„Ø§ÛŒ Ù‚Ø±Ù…Ø² Ø±Ù†Ú¯ */
    .top-bar-red {
      background-color: #d32f2f;
      color: white;
      text-align: center;
      font-weight: 700;
      padding: 0.3rem 0;
      font-size: 0.9rem;
    }

    /* Ù†ÙˆØ§Ø± ØªØ¨Ù„ÛŒØºØ§Øª Ø¨Ø§Ø±ÛŒÚ© Ù…ØªØ­Ø±Ú© */
    .promo-banner {
      background: linear-gradient(90deg, #ffcc00, #ff3d00, #ffcc00);
      color: #000;
      white-space: nowrap;
      overflow: hidden;
      position: relative;
      height: 30px;
      font-weight: bold;
    }
    .promo-banner span {
      display: inline-block;
      padding-left: 100%;
      animation: scroll-left 12s linear infinite;
      line-height: 30px;
    }
    @keyframes scroll-left {
      0% {
        transform: translateX(0%);
      }
      100% {
        transform: translateX(-100%);
      }
    }

    /* Ù†ÙˆØ§Ø± Ø¨Ø§Ù„Ø§ÛŒ Ø¬Ø³ØªØ¬Ùˆ Ùˆ Ø²Ù†Ú¯ÙˆÙ„Ù‡ */
    .search-bar {
      background-color: #ffffff;
      padding: 0.5rem 1rem;
      display: flex;
      align-items: center;
      gap: 10px;
      border-bottom: 1px solid #ddd;
    }
    .search-bar input[type="text"] {
      flex-grow: 1;
      border-radius: 25px;
      border: 1.5px solid #ccc;
      padding: 6px 15px;
      font-size: 0.9rem;
    }
    .search-bar button, .search-bar .notification {
      background-color: transparent;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #d32f2f;
      position: relative;
    }
    /* Ù†Ø´ÙˆÙ† Ø¯Ø§Ø¯Ù† Ø¹Ø¯Ø¯ Ù†ÙˆØªÛŒÙÛŒÚ©ÛŒØ´Ù† */
    .search-bar .notification::after {
      content: "3";
      position: absolute;
      top: -6px;
      right: -6px;
      background: #ff3d00;
      color: white;
      font-size: 0.7rem;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      text-align: center;
      line-height: 18px;
      font-weight: bold;
    }

    /* Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ - Ø¢ÛŒÚ©ÙˆÙ†â€ŒÙ‡Ø§ÛŒ Ø¯Ø§ÛŒØ±Ù‡â€ŒØ§ÛŒ */
    .categories {
      background: #fff;
      padding: 10px 0;
      display: flex;
      overflow-x: auto;
      gap: 15px;
      border-bottom: 1px solid #ddd;
      scroll-behavior: smooth;
    }
    .category-item {
      flex: 0 0 auto;
      text-align: center;
      font-size: 0.8rem;
      color: #333;
      cursor: pointer;
      transition: transform 0.3s ease;
    }
    .category-item:hover {
      transform: scale(1.1);
      color: #d32f2f;
    }
    .category-item img {
      width: 55px;
      height: 55px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 5px;
      border: 2px solid transparent;
      transition: border-color 0.3s ease;
    }
    .category-item:hover img {
      border-color: #d32f2f;
    }

    /* Ø§Ù†ØªØ®Ø§Ø¨ Ø§Ø³ØªØ§Ù† Ùˆ Ø´Ù‡Ø± */
    .location-select {
      background: #fff;
      margin: 15px 0;
      padding: 10px;
      border-radius: 8px;
      box-shadow: 0 0 6px rgb(0 0 0 / 0.1);
      display: flex;
      gap: 10px;
      align-items: center;
      font-size: 0.9rem;
    }
    .location-select select {
      flex-grow: 1;
      padding: 5px 10px;
      border-radius: 5px;
      border: 1.3px solid #ccc;
    }
    .location-select i {
      color: #d32f2f;
      font-size: 1.5rem;
    }

    /* Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø­ØµÙˆÙ„ Ù…ÙˆØ¬ÙˆØ¯ */
    .product-card {
      border-radius: 16px;
      background-color: #fff;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
      padding: 1rem;
      margin-bottom: 1rem;
      transition: box-shadow 0.3s ease;
    }
    .product-card:hover {
      box-shadow: 0 4px 12px rgba(211, 47, 47, 0.3);
    }
    .product-img {
      border-radius: 12px;
      width: 100%;
      height: 160px;
      object-fit: cover;
    }

    /* Ù†ÙˆØ§Ø± Ù¾Ø§ÛŒÛŒÙ† Ø«Ø§Ø¨Øª */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      right: 0;
      left: 0;
      background: #fff;
      border-top: 1px solid #ddd;
      display: flex;
      justify-content: space-around;
      padding: 0.4rem 0;
      box-shadow: 0 -2px 5px rgba(0,0,0,0.1);
      z-index: 1000;
    }
    .bottom-nav a {
      text-decoration: none;
      color: #666;
      flex-grow: 1;
      text-align: center;
      font-size: 0.75rem;
    }
    .bottom-nav i {
      font-size: 1.3rem;
    }
    .bottom-nav a.active, .bottom-nav a:hover {
      color: #d32f2f;
    }

  </style>
</head>
<body>

<header>ğŸ›’ ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø¨Ø±Ø¢Ù„ÛŒÙ†</header>

<!-- Ù†ÙˆØ§Ø± Ø¨Ø§Ù„Ø§ÛŒ Ù‚Ø±Ù…Ø² -->
<div class="top-bar-red">
  Ø¨Ù‡ØªØ±ÛŒÙ† Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ù‡Ø§ Ùˆ ØªØ®ÙÛŒÙâ€ŒÙ‡Ø§ÛŒ Ø±ÙˆØ² Ø±Ø§ Ø§Ø² Ø¯Ø³Øª Ù†Ø¯Ù‡ÛŒØ¯!
</div>

<!-- Ø¨Ù†Ø± ØªØ¨Ù„ÛŒØºØ§Øª Ù…ØªØ­Ø±Ú© -->
<div class="promo-banner">
  <span>ğŸ”¥ Ø­Ø±Ø§Ø¬ ÙˆÛŒÚ˜Ù‡ Ø¨Ø±Ù†Ø¬ Ø·Ø§Ø±Ù… | Ù…Ø§ÛŒØ¹ Ø¸Ø±ÙØ´ÙˆÛŒÛŒ Ø§ØµÙ„ Û´ Ù„ÛŒØªØ±ÛŒ | Ø§Ø±Ø³Ø§Ù„ Ø±Ø§ÛŒÚ¯Ø§Ù† Ø¨Ø§Ù„Ø§ÛŒ ÛµÛ°Û° Ù‡Ø²Ø§Ø± ØªÙˆÙ…Ø§Ù† ğŸ”¥</span>
</div>

<!-- Ù†ÙˆØ§Ø± Ø¬Ø³ØªØ¬Ùˆ Ùˆ Ø²Ù†Ú¯ÙˆÙ„Ù‡ -->
<div class="search-bar container">
  <input type="text" placeholder="Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª..." />
  <button title="Ø¬Ø³ØªØ¬Ùˆ"><i class="bi bi-search"></i></button>
  <button class="notification" title="Ø§Ø¹Ù„Ø§Ù†â€ŒÙ‡Ø§"><i class="bi bi-bell"></i></button>
</div>

<!-- Ø§Ù†ØªØ®Ø§Ø¨ Ø§Ø³ØªØ§Ù† Ùˆ Ø´Ù‡Ø± -->
<div class="location-select container">
  <i class="bi bi-geo-alt-fill"></i>
  <select aria-label="Ø§Ù†ØªØ®Ø§Ø¨ Ø§Ø³ØªØ§Ù†">
    <option selected>Ø§Ø³ØªØ§Ù†</option>
    <option>ØªÙ‡Ø±Ø§Ù†</option>
    <option>Ø§ØµÙÙ‡Ø§Ù†</option>
    <option>Ù…Ø´Ù‡Ø¯</option>
    <option>ØªØ¨Ø±ÛŒØ²</option>
  </select>
  <select aria-label="Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ù‡Ø±">
    <option selected>Ø´Ù‡Ø±</option>
    <option>ØªÙ‡Ø±Ø§Ù†</option>
    <option>Ú©Ø±Ø¬</option>
    <option>Ù‚Ù…</option>
    <option>Ø´ÛŒØ±Ø§Ø²</option>
  </select>
</div>

<!-- Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ -->
<div class="categories container">
  <div class="category-item" title="Ø®ÙˆØ±Ø§Ú©ÛŒ">
    <img src="/static/icons/food.png" alt="Ø®ÙˆØ±Ø§Ú©ÛŒ" />
    Ø®ÙˆØ±Ø§Ú©ÛŒ
  </div>
  <div class="category-item" title="Ù¾Ù„Ø§Ø³ØªÛŒÚ©ÛŒ">
    <img src="/static/icons/plastic.png" alt="Ù¾Ù„Ø§Ø³ØªÛŒÚ©ÛŒ" />
    Ù¾Ù„Ø§Ø³ØªÛŒÚ©ÛŒ
  </div>
  <div class="category-item" title="Ø´ÙˆÛŒÙ†Ø¯Ù‡">
    <img src="/static/icons/detergent.png" alt="Ø´ÙˆÛŒÙ†Ø¯Ù‡" />
    Ø´ÙˆÛŒÙ†Ø¯Ù‡
  </div>
  <div class="category-item" title="Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ">
    <img src="/static/icons/drinks.png" alt="Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ" />
    Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ
  </div>
  <div class="category-item" title="Ú©Ø§Ù„Ø§Ù‡Ø§ÛŒ Ø®Ø§Ù†Ú¯ÛŒ">
    <img src="/static/icons/home_goods.png" alt="Ú©Ø§Ù„Ø§Ù‡Ø§ÛŒ Ø®Ø§Ù†Ú¯ÛŒ" />
    Ø®Ø§Ù†Ú¯ÛŒ
  </div>
</div>

<!-- Ù…Ø­ØµÙˆÙ„Ø§Øª -->
<div class="container mt-3 pb-5">

  <!-- Ù…Ø­ØµÙˆÙ„ Û± -->
  <a href="{{ url_for('main.mobile_product_detail', product_id=1) }}" class="text-decoration-none text-dark">
    <div class="product-card">
      <img src="/static/images/rice.jpg" class="product-img" alt="Ø¨Ø±Ù†Ø¬" />
      <div class="mt-2">
        <h6>Ø¨Ø±Ù†Ø¬ Ø·Ø§Ø±Ù… Û±Û° Ú©ÛŒÙ„ÙˆÛŒÛŒ</h6>
        <p class="text-muted small">Ø®ÙˆØ±Ø§Ú©ÛŒ</p>
        <div class="d-flex justify-content-between align-items-center">
          <span class="text-success fw-bold">Û¶ÛµÛ°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†</span>
          <button
            class="btn btn-sm btn-outline-success"
            onclick="event.preventDefault(); addToCart(1, 'Ø¨Ø±Ù†Ø¬ Ø·Ø§Ø±Ù…', this, 650000)"
          >
            Ø§ÙØ²ÙˆØ¯Ù†
          </button>
        </div>
      </div>
    </div>
  </a>

  <!-- Ù…Ø­ØµÙˆÙ„ Û² -->
  <a href="{{ url_for('main.mobile_product_detail', product_id=2) }}" class="text-decoration-none text-dark">
    <div class="product-card">
      <img src="/static/images/liquid.jpg" class="product-img" alt="Ù…Ø§ÛŒØ¹ Ø¸Ø±ÙØ´ÙˆÛŒÛŒ" />
      <div class="mt-2">
        <h6>Ù…Ø§ÛŒØ¹ Ø¸Ø±ÙØ´ÙˆÛŒÛŒ Û´ Ù„ÛŒØªØ±ÛŒ</h6>
        <p class="text-muted small">Ø´ÙˆÛŒÙ†Ø¯Ù‡</p>
        <div class="d-flex justify-content-between align-items-center">
          <span class="text-success fw-bold">Û¹Ûµ,Û°Û°Û° ØªÙˆÙ…Ø§Ù†</span>
          <button
            class="btn btn-sm btn-outline-success"
            onclick="event.preventDefault(); addToCart(2, 'Ù…Ø§ÛŒØ¹ Ø¸Ø±ÙØ´ÙˆÛŒÛŒ', this, 95000)"
          >
            Ø§ÙØ²ÙˆØ¯Ù†
          </button>
        </div>
      </div>
    </div>
  </a>

</div>

<!-- Ù…Ù†ÙˆÛŒ Ù¾Ø§ÛŒÛŒÙ† Ù…ÙˆØ¨Ø§ÛŒÙ„ -->
<footer class="bottom-nav">
  <a href="{{ url_for('main.mobile_home') }}" class="active">
    <i class="bi bi-house-door-fill"></i><br />
    Ø®Ø§Ù†Ù‡
  </a>
  <a href="{{ url_for('main.mobile_cart') }}">
    <i class="bi bi-cart-fill"></i><br />
    Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯
  </a>
  <a href="{{ url_for('main.mobile_checkout') }}">
    <i class="bi bi-credit-card-2-front-fill"></i><br />
    Ù¾Ø±Ø¯Ø§Ø®Øª
  </a>
  <a href="{{ url_for('main.mobile_profile') }}">
    <i class="bi bi-person-fill"></i><br />
    Ù¾Ø±ÙˆÙØ§ÛŒÙ„
  </a>
</footer>

<!-- Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø¨ÙˆØªâ€ŒØ§Ø³ØªØ±Ù¾ -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ -->
<script>
  function addToCart(id, name, btn, price) {
    const cart = JSON.parse(localStorage.getItem("cart")) || [];
    const itemIndex = cart.findIndex((item) => item.id === id);
    if (itemIndex !== -1) {
      cart[itemIndex].quantity += 1;
    } else {
      cart.push({ id, name, price, quantity: 1 });
    }
    localStorage.setItem("cart", JSON.stringify(cart));
    btn.textContent = "âœ… Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯";
    setTimeout(() => {
      btn.textContent = "Ø§ÙØ²ÙˆØ¯Ù†";
    }, 1500);
  }
</script>

<script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("/static/sw.js").then(() => {
      console.log("âœ… Service Worker Ø«Ø¨Øª Ø´Ø¯");
    });
  }
</script>

</body>
</html>





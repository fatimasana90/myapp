<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>{% block title %}Ø¨Ø±Ø¢Ù„ÛŒÙ†{% endblock %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Manifest (PWA) -->
  <link rel="manifest" href="{{ url_for('static', filename='manifest.json') }}" />

  <!-- Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />


  {% block head_extra %}{% endblock %}

<style>
  .sidebar {
    position: fixed;
    top: 0;
    right: -250px;
    width: 250px;
    height: 100%;
    background-color: white;
    z-index: 1050;
    transition: right 0.3s ease;
    box-shadow: -2px 0 5px rgba(0, 0, 0, 0.1);
  }

  .sidebar.show {
    right: 0;
  }

  #overlay {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: rgba(0, 0, 0, 0.4);
    z-index: 1040;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease;
  }

  #overlay.show {
    opacity: 1;
    visibility: visible;
  }
</style>

</head>
<script>
document.addEventListener("DOMContentLoaded", function () {
  const menuToggle = document.getElementById("menuToggle");
  const sidebar = document.getElementById("sidebar");
  const overlay = document.getElementById("overlay");

  if (menuToggle && sidebar && overlay) {
    menuToggle.addEventListener("click", function () {
      menuToggle.classList.toggle("active");
      sidebar.classList.toggle("show");
      overlay.classList.toggle("show");
    });

    overlay.addEventListener("click", function () {
      menuToggle.classList.remove("active");
      sidebar.classList.remove("show");
      overlay.classList.remove("show");
    });
  }
});
</script>


<body class="bg-light">

  <!-- ğŸ”¹ Header -->
  <header class="d-flex justify-content-between align-items-center p-3 bg-white shadow-sm sticky-top">
    <div class="d-flex align-items-center gap-3">
      <div id="menuToggle" class="menu-toggle" style="cursor: pointer;">
        <span></span>
        <span></span>
        <span></span>
      </div>
      <a href="https://www.beralinco.com" target="_blank" class="fw-bold text-decoration-none text-dark">Ø³Ø§ÛŒØª Ø§ØµÙ„ÛŒ</a>
    </div>

    <div class="flex-grow-1 mx-3">
      <input type="text" class="form-control" placeholder="Ø¬Ø³ØªØ¬Ùˆ Ú©Ù†ÛŒØ¯..." />
    </div>

    <div class="d-flex align-items-center gap-3">
      <div class="cart-icon fs-4">
        ğŸ›’ <span id="cart-count" class="text-danger fw-bold">0</span>
      </div>
      {% if current_user.is_authenticated %}
        <span>Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ {{ current_user.email }}</span>
        <a href="{{ url_for('main.logout') }}" class="btn btn-outline-danger btn-sm">Ø®Ø±ÙˆØ¬</a>
      {% else %}
        <a href="{{ url_for('main.login') }}" class="btn btn-outline-primary btn-sm">ÙˆØ±ÙˆØ¯</a>
        <a href="{{ url_for('main.register') }}" class="btn btn-outline-success btn-sm">Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</a>
      {% endif %}
    </div>
  </header>

  <!-- ğŸ”¹ Sidebar -->
  <nav class="sidebar shadow-sm" id="sidebar">
    <ul class="list-unstyled p-3">
      <li><a href="{{ url_for('main.account') }}" class="d-block py-2">Ø­Ø³Ø§Ø¨ Ù…Ù†</a></li>
      <li><a href="{{ url_for('main.favorites') }}" class="d-block py-2">Ø¹Ù„Ø§Ù‚Ù…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§</a></li>
      <li><a href="{{ url_for('main.order_history') }}" class="d-block py-2">ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø³ÙØ§Ø±Ø´Ø§Øª</a></li>
      <li><a href="https://beralinco.com/Ú†Ú©-Ù‡Ø§ÛŒ-Ù…Ù†/" target="_blank" class="d-block py-2">Ú†Ú©â€ŒÙ‡Ø§ÛŒ Ù…Ù†</a></li>
      <li><a href="https://beralinco.com/Ø¯Ø±Ø¨Ø§Ø±Ù‡-Ù…Ø§/" target="_blank" class="d-block py-2">Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§</a></li>
      <li><a href="https://beralinco.com/ØªÙ…Ø§Ø³-Ø¨Ø§-Ù…Ø§/" target="_blank" class="d-block py-2">ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§</a></li>
      <li><a href="{{ url_for('main.logout') }}" class="d-block py-2 text-danger">Ø®Ø±ÙˆØ¬</a></li>
      <li><a href="{{ url_for('main.cart') }}" class="d-block py-2">ğŸ›’ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ (<span id="sidebar-cart-count">0</span>)</a></li>
    </ul>
  </nav>

  <!-- ğŸ”¹ Overlay -->
  <div id="overlay"></div>

  <!-- ğŸ”¹ Main Content -->
  <main class="container my-4">
    {% block content %}{% endblock %}
  </main>

  <!-- ğŸ”¹ Footer -->
  <footer class="bg-white text-center py-3 shadow-sm mt-5">
    &copy; Û²Û°Û²Ûµ Ø¨Ø±Ø¢Ù„ÛŒÙ† | ØªÙ…Ø§Ù…ÛŒ Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸ Ø§Ø³Øª.
  </footer>

  <!-- ğŸ”¹ Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>


  <script src="{{ url_for('static', filename='js/script.js') }}"></script>
  {% block scripts %}{% endblock %}
</body>
</html>








